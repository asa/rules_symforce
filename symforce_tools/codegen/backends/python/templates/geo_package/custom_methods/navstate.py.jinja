{# ----------------------------------------------------------------------------
 # SymForce - Copyright 2022, Skydio, Inc.
 # This source code is under the Apache 2.0 license found in the LICENSE file.
 # ---------------------------------------------------------------------------- #}
{%- import "../../util/util.jinja" as util with context -%}

    {# Handwritten methods for Navstate #}
    {# These will get included into the autogenerated class header. #}
    def __init__(self, R=None, t=None, v=None):
        # type: (Rot3, T.Union[T.Sequence[float], numpy.ndarray]) -> None
        rotation = R if R is not None else Rot3()
        if t is None:
            t = [0., 0., 0.]
        {{ util.flatten_if_ndarray("t", 3) | indent(width=8) }}
        if v is None:
            tv= [0., 0., 0.]
        {{ util.flatten_if_ndarray("v", 3) | indent(width=8) }}
        if not isinstance(rotation, Rot3):
            raise ValueError("arg R has type {}; type {} expected".format(type(R), Rot3))

        self.data = rotation.to_storage() + list(t) + list(v)

    @property
    def R(self):
        # type: () -> Rot3
        """
        Accessor for the rotation component, equivalent to self.rotation()
        """
        return self.rotation()

    @property
    def t(self):
        # type: () -> numpy.ndarray
        """
        Accessor for the position component, equivalent to self.position()
        """
        return self.position()

    @property
    def v(self):
        # type: () -> numpy.ndarray
        """
        Accessor for the velocity component, equivalent to self.velocity()
        """
        return self.velocity()
